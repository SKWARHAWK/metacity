diff -aurN metacity-2.13.3.orig/src/Makefile.am metacity-2.13.3/src/Makefile.am
--- metacity-2.13.3.orig/src/Makefile.am	2005-11-21 17:04:57.000000000 +0100
+++ metacity-2.13.3/src/Makefile.am	2005-11-24 15:11:29.000000000 +0100
@@ -41,8 +41,6 @@
 	frame.h					\
 	frames.c				\
 	frames.h				\
-	gradient.c				\
-	gradient.h				\
 	group.c					\
 	group.h					\
 	group-private.h				\
@@ -74,16 +72,10 @@
 	stack.h					\
 	tabpopup.c				\
 	tabpopup.h				\
-	theme.c					\
-	theme.h					\
-	theme-parser.c				\
-	theme-parser.h				\
 	themewidget.c				\
 	themewidget.h				\
 	ui.c					\
 	ui.h					\
-	util.c					\
-	util.h					\
 	window.c				\
 	window.h				\
 	window-props.c				\
@@ -133,18 +125,18 @@
 libexec_PROGRAMS=metacity-dialog
 
 EFENCE=
-metacity_LDADD=@METACITY_LIBS@ $(EFENCE)
+metacity_LDADD=@METACITY_LIBS@ $(EFENCE) libmetacity-private.la
 metacity_theme_viewer_LDADD= @METACITY_LIBS@ libmetacity-private.la
 metacity_dialog_LDADD=@METACITY_LIBS@
 
 testboxes_SOURCES=util.h util.c boxes.h boxes.c testboxes.c
-testgradient_SOURCES=gradient.h gradient.c testgradient.c
+testgradient_SOURCES=testgradient.c
 testasyncgetprop_SOURCES=async-getprop.h async-getprop.c testasyncgetprop.c
 
 noinst_PROGRAMS=testboxes testgradient testasyncgetprop
 
-testboxes_LDADD= @METACITY_LIBS@
-testgradient_LDADD= @METACITY_LIBS@
+testboxes_LDADD= @METACITY_LIBS@ 
+testgradient_LDADD= @METACITY_LIBS@ libmetacity-private.la
 testasyncgetprop_LDADD= @METACITY_LIBS@
 
 desktopfilesdir=$(datadir)/gnome/wm-properties
